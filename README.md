# CPX API

API made with express and firebase (auth and real-time database) for a collaborative currency for companies.


# Main URL

`https://api-cpx.herokuapp.com/`


## Auth
`access_token`: provided by Google Firebase Auth

It can be sent through
* body `{ "access_token": "" }`
* parameter `?access_token=`
* header `Authorization: Bearer <access_token> `

## Sign in
```JSON
POST /signin HTTP/1.1
Content-Type: application/json
Authentication: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6ImVlMjc0MWQ0MWY5ZDQzZmFiMWU2MjhhODVlZmI0MmE4OGVmMzIyOWYiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiRG91Z2xhcyBIZW5yaXF1ZSBIYXViZXJ0IiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hLS9BQXVFN21ENVdlWlhRU1pLOG53Ni1GeUE2TmdKczU3Y3VycWlhU01MZkt2SiIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS93dy13LWRhdGEiLCJhdWQiOiJ3dy13LWRhdGEiLCJhdXRoX3RpbWUiOjE1Njg4NDUwMTUsInVzZXJfaWQiOiJrT1RFcm13TG4xVTZvU1pTUlJOUlM5UFVJZ3AxIiwic3ViIjoia09URXJtd0xuMVU2b1NaU1JSTlJTOVBVSWdwMSIsImlhdCI6MTU2ODg0NTAxNiwiZXhwIjoxNTY4ODQ4NjE2LCJlbWFpbCI6ImRvdWdsYXMuaGF1YmVydEBpcnJpZ2EubmV0IiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZ29vZ2xlLmNvbSI6WyIxMTMzODg5NjkzNjM4NzEzOTEwMjEiXSwiZW1haWwiOlsiZG91Z2xhcy5oYXViZXJ0QGlycmlnYS5uZXQiXX0sInNpZ25faW5fcHJvdmlkZXIiOiJnb29nbGUuY29tIn19.H2VxSGXKui7oKkbr9I3mOdPSLyYDPKFAm_8CNpwZhdJIQmj-HGJKDW00e8KAFh0doFRXVdXuz9S-MdebXJfUXRhv1VLjN8iCaqNa8axeuarjzBf6ogun8zKOEDLwXPakLPzN0lk8U5xqJbP6h2UD5JmItarhFTNZ19DQLGYH1DRszp4aqAcB_uLrLFWA_BnJVkFbgJJCZhYEIYAHLeoRjlGScWSuG5mtpTcBIEgZ4Xls2QHaLBHv5ddC0pInEApfc8V0Mq7FssiKIi8GBqOCUFI4UrWL_jlPobH00FFpTvoKMbg3chqD9SztJPlJ3YrA1LuMXz00FzqB1P31lUPpWw
Host: api-cpx.herokuapp.com
Content-Length: 1177

{
	"access_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6IjI5NGNlMzNhNWQ3MmI0NjYyNzI3ZGFiYmRhNzVjZjg4Y2Y5OTg4MGUiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiRG91Z2xhcyBIZW5yaXF1ZSBIYXViZXJ0IiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hLS9BQXVFN21ENVdlWlhRU1pLOG53Ni1GeUE2TmdKczU3Y3VycWlhU01MZkt2SiIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS93dy13LWRhdGEiLCJhdWQiOiJ3dy13LWRhdGEiLCJhdXRoX3RpbWUiOjE1Njk1MTU2ODMsInVzZXJfaWQiOiJrT1RFcm13TG4xVTZvU1pTUlJOUlM5UFVJZ3AxIiwic3ViIjoia09URXJtd0xuMVU2b1NaU1JSTlJTOVBVSWdwMSIsImlhdCI6MTU3MDE4OTAzNSwiZXhwIjoxNTcwMTkyNjM1LCJlbWFpbCI6ImRvdWdsYXMuaGF1YmVydEBpcnJpZ2EubmV0IiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZ29vZ2xlLmNvbSI6WyIxMTMzODg5NjkzNjM4NzEzOTEwMjEiXSwiZW1haWwiOlsiZG91Z2xhcy5oYXViZXJ0QGlycmlnYS5uZXQiXX0sInNpZ25faW5fcHJvdmlkZXIiOiJnb29nbGUuY29tIn19.KzVHewmq4Nw1O_7BXAjK6Zlm8CVy4EYrYh1tduQsO5FIws3S77oh2lyEaZBhuEs4BUhH0aixWTqvypC5CZI-mNyLeAm1CO8NO6Yd7hPDuBbi9p0Xj8Bly92M3e_RNrHa6V7fM-QvP_2xjv9rkwbuMM6DAsE49qDhUAxXVgcOEgx5Kti3l0i6Hurj7jNgbfAEnPtcdu6h7jT5KZIhKrX5HrCGvOZScRgAluVWZafBsry8Xo8kLkRR5IUMY0McBLP2ZNGF1l9q-KUW_GRS2CqVXK5Ii2r8ld2N74mWPMZrzq7Lps8M4zIMornwL5Yp3fpcYXS0C6f7-lr6dyjLizo16w"
}
```

## User wallet
```JSON
GET /wallet/114217942635836917895 HTTP/1.1
Authorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IjI5NGNlMzNhNWQ3MmI0NjYyNzI3ZGFiYmRhNzVjZjg4Y2Y5OTg4MGUiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiRG91Z2xhcyBIZW5yaXF1ZSBIYXViZXJ0IiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hLS9BQXVFN21ENVdlWlhRU1pLOG53Ni1GeUE2TmdKczU3Y3VycWlhU01MZkt2SiIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS93dy13LWRhdGEiLCJhdWQiOiJ3dy13LWRhdGEiLCJhdXRoX3RpbWUiOjE1Njk1MTU2ODMsInVzZXJfaWQiOiJrT1RFcm13TG4xVTZvU1pTUlJOUlM5UFVJZ3AxIiwic3ViIjoia09URXJtd0xuMVU2b1NaU1JSTlJTOVBVSWdwMSIsImlhdCI6MTU3MDE4OTAzNSwiZXhwIjoxNTcwMTkyNjM1LCJlbWFpbCI6ImRvdWdsYXMuaGF1YmVydEBpcnJpZ2EubmV0IiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZ29vZ2xlLmNvbSI6WyIxMTMzODg5NjkzNjM4NzEzOTEwMjEiXSwiZW1haWwiOlsiZG91Z2xhcy5oYXViZXJ0QGlycmlnYS5uZXQiXX0sInNpZ25faW5fcHJvdmlkZXIiOiJnb29nbGUuY29tIn19.KzVHewmq4Nw1O_7BXAjK6Zlm8CVy4EYrYh1tduQsO5FIws3S77oh2lyEaZBhuEs4BUhH0aixWTqvypC5CZI-mNyLeAm1CO8NO6Yd7hPDuBbi9p0Xj8Bly92M3e_RNrHa6V7fM-QvP_2xjv9rkwbuMM6DAsE49qDhUAxXVgcOEgx5Kti3l0i6Hurj7jNgbfAEnPtcdu6h7jT5KZIhKrX5HrCGvOZScRgAluVWZafBsry8Xo8kLkRR5IUMY0McBLP2ZNGF1l9q-KUW_GRS2CqVXK5Ii2r8ld2N74mWPMZrzq7Lps8M4zIMornwL5Yp3fpcYXS0C6f7-lr6dyjLizo16w
Host: api-cpx.herokuapp.com
```

## All users
```JSON
GET /user/ HTTP/1.1
Host: api-cpx.herokuapp.com
```

## User
```JSON
GET /user/101636367855745282966 HTTP/1.1
Host: api-cpx.herokuapp.com
```

## Transfer CPX
```JSON
PUT /transfer/ HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IjI5NGNlMzNhNWQ3MmI0NjYyNzI3ZGFiYmRhNzVjZjg4Y2Y5OTg4MGUiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiRG91Z2xhcyBIZW5yaXF1ZSBIYXViZXJ0IiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hLS9BQXVFN21ENVdlWlhRU1pLOG53Ni1GeUE2TmdKczU3Y3VycWlhU01MZkt2SiIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS93dy13LWRhdGEiLCJhdWQiOiJ3dy13LWRhdGEiLCJhdXRoX3RpbWUiOjE1Njk1MTU2ODMsInVzZXJfaWQiOiJrT1RFcm13TG4xVTZvU1pTUlJOUlM5UFVJZ3AxIiwic3ViIjoia09URXJtd0xuMVU2b1NaU1JSTlJTOVBVSWdwMSIsImlhdCI6MTU3MDE4OTAzNSwiZXhwIjoxNTcwMTkyNjM1LCJlbWFpbCI6ImRvdWdsYXMuaGF1YmVydEBpcnJpZ2EubmV0IiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZ29vZ2xlLmNvbSI6WyIxMTMzODg5NjkzNjM4NzEzOTEwMjEiXSwiZW1haWwiOlsiZG91Z2xhcy5oYXViZXJ0QGlycmlnYS5uZXQiXX0sInNpZ25faW5fcHJvdmlkZXIiOiJnb29nbGUuY29tIn19.KzVHewmq4Nw1O_7BXAjK6Zlm8CVy4EYrYh1tduQsO5FIws3S77oh2lyEaZBhuEs4BUhH0aixWTqvypC5CZI-mNyLeAm1CO8NO6Yd7hPDuBbi9p0Xj8Bly92M3e_RNrHa6V7fM-QvP_2xjv9rkwbuMM6DAsE49qDhUAxXVgcOEgx5Kti3l0i6Hurj7jNgbfAEnPtcdu6h7jT5KZIhKrX5HrCGvOZScRgAluVWZafBsry8Xo8kLkRR5IUMY0McBLP2ZNGF1l9q-KUW_GRS2CqVXK5Ii2r8ld2N74mWPMZrzq7Lps8M4zIMornwL5Yp3fpcYXS0C6f7-lr6dyjLizo16w
Host: api-cpx.herokuapp.com
Content-Length: 48

{
	"amount": 2,
	"to": "114217942635836917895"
}
```



## All transactions
```JSON
GET /transaction/ HTTP/1.1
Authorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IjI5NGNlMzNhNWQ3MmI0NjYyNzI3ZGFiYmRhNzVjZjg4Y2Y5OTg4MGUiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiRG91Z2xhcyBIZW5yaXF1ZSBIYXViZXJ0IiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hLS9BQXVFN21ENVdlWlhRU1pLOG53Ni1GeUE2TmdKczU3Y3VycWlhU01MZkt2SiIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS93dy13LWRhdGEiLCJhdWQiOiJ3dy13LWRhdGEiLCJhdXRoX3RpbWUiOjE1Njk1MTU2ODMsInVzZXJfaWQiOiJrT1RFcm13TG4xVTZvU1pTUlJOUlM5UFVJZ3AxIiwic3ViIjoia09URXJtd0xuMVU2b1NaU1JSTlJTOVBVSWdwMSIsImlhdCI6MTU3MDE4OTAzNSwiZXhwIjoxNTcwMTkyNjM1LCJlbWFpbCI6ImRvdWdsYXMuaGF1YmVydEBpcnJpZ2EubmV0IiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZ29vZ2xlLmNvbSI6WyIxMTMzODg5NjkzNjM4NzEzOTEwMjEiXSwiZW1haWwiOlsiZG91Z2xhcy5oYXViZXJ0QGlycmlnYS5uZXQiXX0sInNpZ25faW5fcHJvdmlkZXIiOiJnb29nbGUuY29tIn19.KzVHewmq4Nw1O_7BXAjK6Zlm8CVy4EYrYh1tduQsO5FIws3S77oh2lyEaZBhuEs4BUhH0aixWTqvypC5CZI-mNyLeAm1CO8NO6Yd7hPDuBbi9p0Xj8Bly92M3e_RNrHa6V7fM-QvP_2xjv9rkwbuMM6DAsE49qDhUAxXVgcOEgx5Kti3l0i6Hurj7jNgbfAEnPtcdu6h7jT5KZIhKrX5HrCGvOZScRgAluVWZafBsry8Xo8kLkRR5IUMY0McBLP2ZNGF1l9q-KUW_GRS2CqVXK5Ii2r8ld2N74mWPMZrzq7Lps8M4zIMornwL5Yp3fpcYXS0C6f7-lr6dyjLizo16w
Host: api-cpx.herokuapp.com
```
